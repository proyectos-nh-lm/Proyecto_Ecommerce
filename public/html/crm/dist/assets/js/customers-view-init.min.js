"use strict";

$(document).ready(function() {
  // Account deletion confirmation dialog
  $('[data-action-target="#acSecctingsActionMessage"]').on("click", function(e) {
    e.preventDefault();
    
    const swal = Swal.mixin({
      customClass: {
        confirmButton: "btn btn-success m-1",
        cancelButton: "btn btn-danger m-1"
      },
      buttonsStyling: false
    });
    
    swal.fire({
      title: "Delete Account",
      text: "Are you sure you want to delete this account? This action cannot be undone.",
      icon: "warning",
      showCancelButton: true,
      confirmButtonText: "Yes, Delete Account",
      cancelButtonText: "No, Keep Account",
      reverseButtons: true,
      focusCancel: true,  // Better UX for destructive actions
      allowOutsideClick: false  // Prevent accidental dismissal
    }).then((result) => {
      if (result.isConfirmed) {
        swal.fire({
          title: "Deleted!",
          text: "Account has been successfully deleted.",
          icon: "success",
          timer: 2000,
          showConfirmButton: false
        }).then(() => {
          // Add your account deletion logic here
          console.log("Account deletion confirmed");
        });
      } else if (result.dismiss === Swal.DismissReason.cancel) {
        swal.fire({
          title: "Cancelled",
          text: "Your account was not deleted.",
          icon: "info",
          timer: 2000,
          showConfirmButton: false
        });
      }
    });
  });
});