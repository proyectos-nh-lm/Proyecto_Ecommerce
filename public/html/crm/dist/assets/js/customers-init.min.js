"use strict";

$(document).ready(function() {
  // Initialize DataTable with pagination options
  $("#customerList").DataTable({
    pageLength: 10,
    lengthMenu: [10, 20, 50, 100, 200, 500]
  });

  // Checkbox selection functionality
  $("#checkAllCustomer").change(function() {
    const isChecked = this.checked;
    
    // Toggle all checkboxes and their parent rows
    $(".checkbox").each(function() {
      this.checked = isChecked;
      $(this).closest(".single-items").toggleClass("selected", isChecked);
    });
  });

  // Individual checkbox handling
  $(".checkbox").click(function() {
    // Check if all checkboxes are selected
    const allChecked = $(".checkbox:checked").length === $(".checkbox").length;
    $("#checkAllCustomer").prop("checked", allChecked);
  });

  // Toggle selected class when clicking any checkbox
  $(".items-wrapper").on("click", "input:checkbox", function() {
    $(this).closest(".single-items").toggleClass("selected", this.checked);
  });

  // Initialize selected state for pre-checked items
  $(".items-wrapper input:checkbox:checked").closest(".single-items").addClass("selected");
});