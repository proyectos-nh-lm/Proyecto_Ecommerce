"use strict";

$(document).ready(function() {
  // Configuración del gráfico de horas facturadas/no facturadas
  const chartOptions = {
    chart: {
      height: 270,
      type: "area",
      stacked: false,
      toolbar: { show: false } // Ocultar barra de herramientas
    },
    xaxis: {
      categories: ["ENE/23", "FEB/23", "MAR/23", "ABR/23", "MAY/23", "JUN/23"], // Meses en español
      axisBorder: { show: false },
      axisTicks: { show: false },
      labels: {
        style: {
          fontSize: "10px",
          colors: "#64748b" // Color de las etiquetas
        }
      }
    },
    yaxis: {
      labels: {
        formatter: function(val) { return `${val}K` }, // Formatear valores del eje Y
        offsetX: -22,
        offsetY: 0,
        style: {
          fontSize: "10px",
          color: "#64748b"
        }
      }
    },
    stroke: {
      curve: "smooth",
      width: [1, 1], // Ancho de las líneas
      dashArray: [3, 3], // Patrón de guiones
      lineCap: "round" // Extremos redondeados
    },
    grid: {
      padding: { left: 0, right: 0 },
      strokeDashArray: 3,
      borderColor: "#ebebf3",
      row: {
        colors: ["#ebebf3", "transparent"],
        opacity: 0.02
      }
    },
    legend: { show: false }, // Ocultar leyenda
    colors: ["#3454d1", "#25b865"], // Colores azul y verde
    dataLabels: { enabled: false }, // Deshabilitar etiquetas de datos
    fill: {
      type: "gradient",
      gradient: {
        shadeIntensity: 1,
        opacityFrom: 0.4,
        opacityTo: 0.3,
        stops: [0, 90, 100]
      }
    },
    series: [
      {
        name: "Horas No Facturadas",
        data: [45, 10, 75, 35, 80, 40],
        type: "area"
      },
      {
        name: "Horas Facturadas",
        data: [60, 20, 90, 45, 100, 55],
        type: "area"
      }
    ],
    tooltip: {
      y: {
        formatter: function(val) { return `${val}K` } // Formatear tooltip
      },
      style: {
        fontSize: "12px",
        fontFamily: "Inter"
      }
    }
  };

  // Crear e renderizar el gráfico
  new ApexCharts(
    document.querySelector("#billed-area-chart"),
    chartOptions
  ).render();
});